local TeleportFromTo = {

----------------------Blank copy----------------------
--	["Office 2"] = {
--		positionFrom = { ['x'] = , ['y'] = , ['z'] = , nom = ""},
--		positionTo = { ['x'] = , ['y'] = , ['z'] = , nom = ""},
--	},

	["courthouse1"] = {
		positionFrom = { ['x'] = -535.22, ['y'] = -186.1, ['z'] = 37.22, nom = "FIB Liason Office"},
		positionTo = { ['x'] = -541.45, ['y'] = -189.78, ['z'] = 37.22, nom = "State Law Enforcement Liason Office"},
	},

	["courthouse2"] = {
		positionFrom = { ['x'] = -562.07, ['y'] = -195.82, ['z'] = 37.22, nom = "Courthouse Staff Office"},
		positionTo = { ['x'] = -558.15, ['y'] = -199.38, ['z'] = 37.22, nom = "Traffic Court"},
	},

	["courthouse3"] = {
		positionFrom = { ['x'] = -579.42, ['y'] = -212.2, ['z'] = 37.22, nom = "Parliament Security Office"},
		positionTo = { ['x'] = -582.55, ['y'] = -208.58, ['z'] = 37.22, nom = "Parliament Secratary Office"},
	},

	["courthouse4"] = {
		positionFrom = { ['x'] = -519.42, ['y'] = -178.2, ['z'] = 37.22, nom = "Judges Chambers"},
		positionTo = { ['x'] = -522.53, ['y'] = -174.38, ['z'] = 37.22, nom = "Court Clerk's Office"},
	},

	["courthouse5"] = {
		positionFrom = { ['x'] = -540.53, ['y'] = -196.2, ['z'] = 41.72, nom = "Attorney General's Office"},
		positionTo = { ['x'] = -554.13, ['y'] = -204.28, ['z'] = 41.72, nom = "U.S. Marshall's Office"},
	},

	["courthouse6"] = {
		positionFrom = { ['x'] = -534.53, ['y'] = -181.7, ['z'] = 41.72, nom = "Attorney General Dixon"},
		positionTo = { ['x'] = -529.13, ['y'] = -180.78, ['z'] = 41.72, nom = "A.G. Confrence Room"},
	},

	["courthouse7"] = {
		positionFrom = { ['x'] = -580.53, ['y'] = -211.7, ['z'] = 41.72, nom = "Director S. Jones"},
		positionTo = { ['x'] = -566.56, ['y'] = -200.78, ['z'] = 41.72, nom = "U.S. Marshall's Confrence Room"},
	},

	["courthouse8"] = {
		positionFrom = { ['x'] = -553.53, ['y'] = -198.0, ['z'] = 51.72, nom = "Judicial Tower"},
		positionTo = { ['x'] = -537.66, ['y'] = -183.48, ['z'] = 37.22, nom = "Kork Fugle Commemorative Confrence Room"},
	},

	["courthouse9"] = {
		positionFrom = { ['x'] = -552.68, ['y'] = -188.28, ['z'] = 55.22, nom = "Majestrate G. Bennington"},
		positionTo = { ['x'] = -552.68, ['y'] = -188.28, ['z'] = 59.92, nom = "Justice D. Coachenski"},
	},

	["courthouse10"] = {
		positionFrom = { ['x'] = -552.68, ['y'] = -188.28, ['z'] = 64.42, nom = "Justice A. White"},
		positionTo = { ['x'] = -552.68, ['y'] = -188.28, ['z'] = 68.92, nom = "Chief Justice R. Bridgeham"},
	},

	["Courtroom"] = {
		positionFrom = { ['x'] = 225.338, ['y'] = -419.71, ['z'] = -119.150, nom = "Go inside the court room"},
		positionTo = { ['x'] = 238.794, ['y'] = -334.078, ['z'] = -119.760, nom = "Exit the court room"},
	},

	["Defense Hall"] = {
		positionFrom = { ['x'] = 246.438, ['y'] = -337.090, ['z'] = -119.794, nom = "Enter the defense hall"},
		positionTo = { ['x'] = 248.171, ['y'] = -337.797, ['z'] = -119.794, nom = "Exit the defense hall"},
	},

	["Regano"] = {
		positionFrom = { ['x'] = -1570.85, ['y'] = -575.89, ['z'] = 108.11, nom = "Ragano & Assoc."},
		positionTo = { ['x'] = -1570.85, ['y'] = -575.89, ['z'] = 108.11, nom = ""},
	},

	["Reception"] = {
		positionFrom = { ['x'] = 233.35, ['y'] = -410.89, ['z'] = 47.11, nom = "Enter the L.S. City Court"},
		positionTo = { ['x'] = 236.101, ['y'] = -413.360, ['z'] = -119.150, nom = "Exit the court"},
	},

	["Jail Visitation"] = {
		positionFrom = { ['x'] = 1792.49, ['y'] = 2593.84, ['z'] = 45.80, nom = "Enter the visitation"},
		positionTo = { ['x'] = 1706.62, ['y'] = 2580.96, ['z'] = -69.41, nom = "Exit the visitation"},
	},

	["Jail Entrance"] = {
		positionFrom = { ['x'] = 1699.95, ['y'] = 2574.87, ['z'] = -69.40, nom = "Enter the jail"},
		positionTo = { ['x'] = 1800.96, ['y'] = 2483.19, ['z'] = -122.70, nom = "Exit the jail"},
	},

	-----------------------------State Building-----------------------------------
	["Cia Building"] = {
		positionFrom = { ['x'] = 120.4665, ['y'] = -621.036 , ['z'] = 44.24202  , nom = "Enter the State building"},
		positionTo = { ['x'] = 116.360, ['y'] = -636.461, ['z'] = 206.046, nom = "To Ground Floor"},
	},

	["Cia Basement"] = {
		positionFrom = { ['x'] = 115.452, ['y'] = -639.217 , ['z'] = 206.046 , nom = "To Basement"},
		positionTo = { ['x'] = 2155.471, ['y'] = 2920.868, ['z'] = -62.90243, nom = "To Office"},
	},

	--cia underground 2155.471, ['y'] = 2920.868, ['z'] = -62.90243,
	--[[
	["Paleto Station"] = {
		positionFrom = { ['x'] = -442.352, ['y'] = 6012.365, ['z'] = 31.76, nom = "Enter the station"},
		positionTo = { ['x'] = -441.880, ['y'] = 6010.498, ['z'] = -118.761 , nom = "Exit the station"},
	},
	]]

	["FBI Building"] = {
		positionFrom = { ['x'] = 136.22, ['y'] = -762.22, ['z'] = 45.75, nom = "Local Operations"},
		positionTo = { ['x'] = 136.39, ['y'] = -762.39, ['z'] = 241.15, nom = "Use the elevator"},
	},

	["basement entrance"] = {
 		positionFrom = { ['x'] = 65.473, ['y'] = -749.536, ['z'] = 31.634, nom = "Enter Basement"},
 		positionTo = { ['x'] = 132.576, ['y'] = -730.733, ['z'] = 42.152 , nom = "Exit to Low Power"},
 	},

	["UD Heist"] = {
		positionFrom = { ['x'] = 10.20, ['y'] = -671.30, ['z'] = 33.45, nom = "Use the elevator"},
		positionTo = { ['x'] = -0.04, ['y'] = -705.78, ['z'] = 16.13, nom = "Use the elevator"},
	},

	["Police Garage in"] = {
		positionFrom = { ['x'] = 142.0795, ['y'] = -768.931, ['z'] = 44.75201, nom = "Parking Garage"},
		positionTo = { ['x'] =177.034 , ['y'] =-728.913 , ['z'] =38.40419 , nom = "Enter FIB Building"},
	},

	["fib Roof"] = {
		positionFrom = { ['x'] = 115.087, ['y'] = -741.951, ['z'] = 258.152, nom = "To Office"},
		positionTo = { ['x'] =138.144 , ['y'] =-765.091 , ['z'] =242.15124 , nom = "To Roof"},
	},

	["Mail Room"] = {
		positionFrom = { ['x'] =141.8635 , ['y'] =-769.3264 , ['z'] =241.1521 , nom = "Enter Mail Rom"},
		positionTo = { ['x'] = 143.012, ['y'] =-769.813 , ['z'] = 241.1521 , nom = "Leave Mail Room"},
	},

	["Capt. Bruce Office"] = {
		positionFrom = { ['x'] =146.6092 , ['y'] = -756.9357, ['z'] =241.1519 , nom = "Director Andy Jackson"},
		positionTo = { ['x'] =145.6092 , ['y'] = -756.9357, ['z'] =-241.1519 , nom = ""},
	},

	["Roof access"] = {
		positionFrom = { ['x'] = 116.047, ['y'] =-658.253 , ['z'] = 250.150, nom = "Exit Roof"},
		positionTo = { ['x'] = 2034.262, ['y'] =2942.108 , ['z'] =-61.90174 , nom = "Roof Access"},
	},

	["Roof access fib"] = {
		positionFrom = { ['x'] = 132.201, ['y'] =-726.962 , ['z'] = 258.152, nom = "To Inside"},
		positionTo = { ['x'] = 156.694, ['y'] =-757.552 , ['z'] =258.151 , nom = "To Outside"},
	},

	["Capt office"] = {
		positionFrom = { ['x'] = 151.261, ['y'] =-744.0802 , ['z'] =241.1519 , nom = "Deputy Director Jackson"},
		positionTo = { ['x'] =150.261, ['y'] =-744.0802 , ['z'] =241.1519 , nom = ""},
	},

	["Major office"] = {
		positionFrom = { ['x'] =152.1549 , ['y'] =-738.5595 , ['z'] =241.152 , nom = "SAIC Steve Jones"},
		positionTo = { ['x'] =152.1549, ['y'] =-738.5595 , ['z'] =241.1519 , nom = ""},
	},

["Lead Detectice"] = {
		positionFrom = { ['x'] =125.0686 , ['y'] =-765.4319 , ['z'] =241.1522 , nom = "ASAC Gates"},
		positionTo = { ['x'] =125.0686 , ['y'] =-765.4319 , ['z'] =241.1522 , nom = ""},
	},

	["Detectice Quinn"] = {
		positionFrom = { ['x'] = 111.189, ['y'] =-752.526 , ['z'] =240.9503 , nom = "DOA Liason Bullpen"},
		positionTo = { ['x'] =111.8298 , ['y'] =-752.563 , ['z'] =-240.1521 , nom = ""},
	},

	["DOJ Liason"] = {
		positionFrom = { ['x'] = 120.989, ['y'] =-754.405 , ['z'] =44.75203 , nom = "DOJ Liason Office"},
		positionTo = { ['x'] = 122.193, ['y'] = -752.620, ['z'] = 44.752, nom = "Exit"},
	},

	["Us Marshal"] = {
		positionFrom = { ['x'] = 133.076, ['y'] =-741.6381 , ['z'] =257.151 , nom = "US Marshal's Office"},
		positionTo = { ['x'] = 133.076, ['y'] =-741.6381 , ['z'] =257.151, nom = ""},
	},

	["Us Marshal 2"] = {
		positionFrom = { ['x'] = 151.133, ['y'] =-748.191 , ['z'] =257.151 , nom = "US Marshal's Office"},
		positionTo = { ['x'] = 133.076, ['y'] =-741.6381 , ['z'] =257.151, nom = ""},
	},

	["Desk agent"] = {
		positionFrom = { ['x'] =108.354 , ['y'] =-740.997 , ['z'] =239.951 , nom = "Special Agent Jimmy Bobber"},
		positionTo = { ['x'] =108.354 , ['y'] =-740.997 , ['z'] =239.951, nom = ""},
	},

	["Desk agent 2"] = {
		positionFrom = { ['x'] =107.596 , ['y'] =-748.583 , ['z'] =239.951 , nom = "Special Agent Alwyn Fox"},
		positionTo = { ['x'] =107.596 , ['y'] =-748.583 , ['z'] =239.951, nom = ""},
	},

	["Desk agent 3"] = {
		positionFrom = { ['x'] =110.067 , ['y'] =-748.737 , ['z'] =239.951 , nom = "Special Agent Joe Pistone"},
		positionTo = { ['x'] =110.067 , ['y'] =-748.737 , ['z'] =239.951, nom = ""},
	},


	["Iaa tp to balcony"] = {
		positionFrom = { ['x'] =-1272.711, ['y'] =374.497 , ['z'] =76.588 , nom = "To Balcony"},
		positionTo = { ['x'] =-1291.000 , ['y'] =341.000 , ['z'] =77.000 , nom = "To Balcony"},
	},

	["Securo Serv"] = {
		positionFrom = { ['x'] =135.190, ['y'] =322.377 , ['z'] =116.633 , nom = "Securo Serv Office"},
		positionTo = { ['x'] =322.311 , ['y'] =356.662 , ['z'] =105.000 , nom = "To Outside"},
	},


	---------------------------------------------------Mamas Bar----------------------------------------------------------

	["Back Bar"] = {
		positionFrom = { ['x'] =-1382.5, y = -632.8, z = 30.8, nom = "Enter Bar"},
		positionTo = { ['x'] = -1380.00, ['y'] =-631.44 , ['z'] =31.00 , nom = "Leave Bar"},
	},

	["Front Bar"] = {
		positionFrom = { ['x'] = -1391.708, ['y'] = -597.7766, ['z'] = 30.31957, nom = "Enter Bar"},
		positionTo = { ['x'] = -1390.851, ['y'] =-600.1299 , ['z'] =30.31957 , nom = "Leave Bar"},
	},

	["casino"] = {
		positionFrom = { ['x'] = 928.708, ['y'] = 43.7766, ['z'] = 81.31957, nom = "Enter Casino"},
		positionTo = { ['x'] = 1089.951, ['y'] = 206.1299 , ['z'] =-49.31957 , nom = "Leave Casino"},
	},

	["Pent House"] = {
		positionFrom = { ['x'] = 1119.708, ['y'] = 266.7766, ['z'] = -51.31957, nom = "Enter Penthouse"},
		positionTo = { ['x'] = 980.951, ['y'] = 56.1299 , ['z'] = 116.31957 , nom = "Leave Penthouse"},
	},

	["Pent House tarrace"] = {
		positionFrom = { ['x'] = 970.708, ['y'] = 63.7766, ['z'] = 112.31957, nom = "Enter Penthouse terrace"},
		positionTo = { ['x'] = 967.951, ['y'] = 63.1299 , ['z'] = 112.31957 , nom = "Leave Penthouse terrace"},
	},

-- ["Tazer tag"] = {
-- 		positionFrom = { ['x'] = -115.9124, ['y'] = -601.7662, ['z'] = 36.28206, nom = "Enter to play tazer tag"},
-- 		positionTo = { ['x'] = 2154.831, ['y'] = 2920.986, ['z'] =-81.075386047364 , nom = "Leave"},
-- 	},


-- 	["ATC Tower"] = {
-- 		positionFrom = { ['x'] =-985.8347 , ['y'] =-2634.862 , ['z'] =84.04646 , nom = ""},
-- 		positionTo = { ['x'] =-983.5023 , ['y'] =-2635.8347 , ['z'] =84.01019 , nom = ""},
-- 	},


-- 	["ATC "] = {
-- 		positionFrom = { ['x'] =-966.3262 , ['y'] =-2610.123 , ['z'] =13.981 , nom = ""},
-- 		positionTo = { ['x'] = -981.7664, ['y'] =-2631.344 , ['z'] =84.04636 , nom = ""},
-- 	},





}

AnotherTable = {
	["Judge Bench"] = {
		positionFrom = { ['x'] = 258.11, ['y'] = -326.28, ['z'] = -119.80, nom = "Enter the bench"},
		positionTo = { ['x'] = 241.035, ['y'] = -304.235, ['z'] = -119.794, nom = "Exit the bench"},
	},

	["Judge Room "] = {
		positionFrom = { ['x'] = 239.7716, ['y'] =-307.1129 , ['z'] =-118.8 , nom = "Enter Judge Office"},
		positionTo = { ['x'] = -1003.121, ['y'] =-477.8206 , ['z'] =49.02733 , nom = "Exit"},
	},
}

Drawing = setmetatable({}, Drawing)
Drawing.__index = Drawing


function Drawing.draw3DText(x,y,z,textInput,fontId,scaleX,scaleY,r, g, b, a)
	local px,py,pz=table.unpack(GetGameplayCamCoords())
	local dist = GetDistanceBetweenCoords(px,py,pz, x,y,z, true)

	local scale = (1/dist)*20
	local fov = (1/GetGameplayCamFov())*100
	local scale = scale*fov

	SetTextScale(scaleX*scale, scaleY*scale)
	SetTextFont(fontId)
	SetTextColour(r, g, b, a)
	SetTextDropshadow(0, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextEntry("STRING")
	SetTextCentre(true)
	AddTextComponentString(textInput)
	SetDrawOrigin(x,y,z+2, 0)
	DrawText(0.0, 0.0)
	ClearDrawOrigin()
end

function Drawing.drawMissionText(m_text, showtime)
	ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		local ped = PlayerPedId()
		local pos = GetEntityCoords(ped)
		local letSleep = true

		if ESX.PlayerData.job and ESX.PlayerData.job.name == 'doj' and ESX.PlayerData.job.grade >= 4 then
			for k2, j2 in pairs(AnotherTable) do
				local distance = GetDistanceBetweenCoords(pos, j2.positionFrom.x, j2.positionFrom.y, j2.positionFrom.z, true)

				if distance < 150.0 then
					--DrawMarker(1, j2.positionFrom.x, j2.positionFrom.y, j2.positionFrom.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
					letSleep = false
					if distance < 5.0 then
						Drawing.draw3DText(j2.positionFrom.x, j2.positionFrom.y, j2.positionFrom.z - 1.100, j2.positionFrom.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
						if distance < 2.0 then
							ClearPrints()
							SetTextEntry_2("STRING")
							--AddTextComponentString("Press ~r~E~w~ to ".. j2.positionFrom.nom)
							DrawSubtitleTimed(2000, 1)
							if IsControlJustPressed(1, 38) then
								DoScreenFadeOut(1000)
								Citizen.Wait(2000)
								SetEntityCoords(ped, j2.positionTo.x, j2.positionTo.y, j2.positionTo.z - 1)
								DoScreenFadeIn(1000)
							end
						end
					end
				end

				distance = GetDistanceBetweenCoords(pos, j2.positionTo.x, j2.positionTo.y, j2.positionTo.z, true)
				if distance < 150.0 then
					--DrawMarker(1, j2.positionTo.x, j2.positionTo.y, j2.positionTo.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
					letSleep = false
					if distance < 5.0 then
						Drawing.draw3DText(j2.positionTo.x, j2.positionTo.y, j2.positionTo.z - 1.100, j2.positionTo.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
						if distance < 2.0 then
							ClearPrints()
							SetTextEntry_2("STRING")
							--AddTextComponentString("Press ~r~E~w~ to ".. j2.positionTo.nom)
							DrawSubtitleTimed(2000, 1)
							if IsControlJustPressed(1, 38) then
								DoScreenFadeOut(1000)
								Citizen.Wait(2000)
								SetEntityCoords(ped, j2.positionFrom.x, j2.positionFrom.y, j2.positionFrom.z - 1)
								DoScreenFadeIn(1000)
							end
						end
					end
				end
			end
		end

		if letSleep then
			Citizen.Wait(500)
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		local ped = PlayerPedId()
		local pos = GetEntityCoords(ped)
		local veh = GetVehiclePedIsIn(ped, false)
		local letSleep = true

		for k, j in pairs(TeleportFromTo) do
			local distance = GetDistanceBetweenCoords(pos, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z, true)
			if distance < 150.0 then
				--DrawMarker(1, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
				letSleep = false
				if distance < 5.0 then
					Drawing.draw3DText(j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1.100, j.positionFrom.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
					if distance < 2.0 then
						ClearPrints()
						SetTextEntry_2("STRING")
						--AddTextComponentString("Press ~r~E~w~ to ".. j.positionFrom.nom)
						DrawSubtitleTimed(2000, 1)
						if IsControlJustPressed(1, 38) then
							DoScreenFadeOut(1000)
							Citizen.Wait(2000)
							SetEntityCoords(ped, j.positionTo.x, j.positionTo.y, j.positionTo.z - 1)
							SetEntityCoords(veh, j.positionTo.x, j.positionTo.y, j.positionTo.z - 1)
							SetPedIntoVehicle(ped, veh, -1)
							DoScreenFadeIn(1000)
						end
					end
				end
			end

			distance = GetDistanceBetweenCoords(pos, j.positionTo.x, j.positionTo.y, j.positionTo.z, true)
			if distance < 150.0 then
				--DrawMarker(1, j.positionTo.x, j.positionTo.y, j.positionTo.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
				letSleep = false
				if distance < 5.0 then
					Drawing.draw3DText(j.positionTo.x, j.positionTo.y, j.positionTo.z - 1.100, j.positionTo.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
					if distance < 2.0 then
						ClearPrints()
						SetTextEntry_2("STRING")
						--AddTextComponentString("Press ~r~E~w~ to ".. j.positionTo.nom)
						DrawSubtitleTimed(2000, 1)
						if IsControlJustPressed(1, 38) then
							DoScreenFadeOut(1000)
							Citizen.Wait(2000)
							SetEntityCoords(ped, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1)
							DoScreenFadeIn(1000)
						end
					end
				end
			end
		end

		if letSleep then
			Citizen.Wait(500)
		end
	end
end)
